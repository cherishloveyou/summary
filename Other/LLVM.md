# LLVM编译流程

一个现代编译器的主要工作流程：源代码 (source code) → 预处理器 (preprocessor) → 编译器 (compiler) → 目标代码(object code) → 链接器 (Linker) → 可执行程序 (executables)

##### 编译器前端（Frontend）

编译器前端的任务是解析代码。它会进行：词法分析，语法分析，语义分析，检查源代码是否存在错误，然后构建**抽象语法树**（Abstract Syntax Tree, AST）, LLVM前端还会生成**中间代码**（Intermediate Representation, IR）。

##### 优化器（Optimizer）

优化器负责进行各种优化。改善代码运行时间，例如消除冗余计算等等；

##### 编译器后端(Backend)/代码生成器（CodeGenerator）

将代码映射到目标指令集。生成机器语言，并进行机器相关的代码优化等；



# LLVM编译流程

-  输入文件：读取源码文件
-  预处理阶段：这个过程处理包括宏的替换，头文件的导入；
-  编译阶段：进行词法分析、语法分析、检测语法是否正确，最终生成IR;
-  后端：这个过程LLVM通过一个个Pass去优化，每个Paas做一些事情，最终生成汇编代码；
-  通过汇编代码生成目标文件；
-  目标文件通过链接，生成镜像（符号冲突发生在这个阶段）
-  通过不同的架构模式，生成该架构模式下的可执行文件。
